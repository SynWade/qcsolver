<!DOCTYPE html>
<html lang="en">
    @using qcsolver.Models;
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OnSite - @ViewBag.Title</title>
    <link type="text/css" href="~/Content/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" href="~/Content/simple-sidebar.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons -->
    <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <div class="user-panel">
                    <div class="pull-left image">
                        <img src="~/Content/Images/lion.jpg" class="img-circle" alt="User Image" />
                    </div>
@if (Session["user"] != null)
{
    <div class="user-info">
        <p class="FLnames">@(((Person)Session["user"]).firstName + " " + ((Person)Session["user"]).lastName)</p>
        <p class="role" data-icon="flag">Role: @(((Person)Session["user"]).PersonType.type)</p>
        <a href="../Account/Profile" /><p class="acctSettings"><i class="fa fa-gear"></i> Profile & Settings</p>
        <hr />
</div>
}
                </div>

                @if (Session["user"] == null)
                {
                    <li>@Html.ActionLink("Login", "Login", "Account")</li>
                    <li>@Html.ActionLink("About", "About", "Home")</li>
                    <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
                }
                else if (((Person)Session["user"]).PersonType.type == "master")
                {
                    
                    <link type="text/css" href="~/Content/Master-SideBar.css" rel="stylesheet">
                    <li>@Html.ActionLink("Admins", "Index", "Account", new { type = "admin" }, null)</li>
                    <li>@Html.ActionLink("Companies", "Index", "Companies")</li>
                    <li>@Html.ActionLink("Construction Sites", "Index", "ConstructionSites")</li>
                    <li>@Html.ActionLink("Contractors", "Index", "Account", new { type = "contractor" }, null)</li>
                    <li>@Html.ActionLink("Online Users", "Index", "Account", new { online = true }, null)</li>
                    <li>@Html.ActionLink("Supervisors", "Index", "Account", new {type = "supervisor"}, null)</li>
                }
                else if (((Person)Session["user"]).PersonType.type == "admin")
                {
                    <link type="text/css" href="~/Content/Admin-SideBar.css" rel="stylesheet">
                    <li>@Html.ActionLink("Construction Sites", "Index", "ConstructionSites")</li>
                    <li>@Html.ActionLink("Contractors", "Index", "Account", new { type = "contractor" }, null)</li>
                    <li>@Html.ActionLink("Supervisors", "Index", "Account", new { type = "supervisor" }, null)</li>
                }
                else if (((Person)Session["user"]).PersonType.type == "supervisor")
                {
                    <link type="text/css" href="~/Content/Supervisor-SideBar.css" rel="stylesheet">
                    <li>@Html.ActionLink("Contractors", "Index", "Account", new { type = "contractor" }, null)</li>
                    <li>@Html.ActionLink("OnSite", "Index", "ConstructionSites")</li>
                    <li>@Html.ActionLink("Tasks - N/A Ln-77", "Index", "Account"@*, new { type = "supervisor" }, null*@)</li>
                }
                else if (((Person)Session["user"]).PersonType.type == "contractor")
                {
                    <link type="text/css" href="~/Content/Contractor-Sub-SideBar.css" rel="stylesheet">
                    <li>@Html.ActionLink("Certificates", "Index", "Certificates")</li>
                    <li>@Html.ActionLink("Contracts - IMG LN83", "Index", "Login")</li>
                    <li>@Html.ActionLink("Licenses", "Index", "Licenses")</li>
                    <li>@Html.ActionLink("Timestamps - LN85", "Index", "Login")</li>
                    <li>@Html.ActionLink("Schedules", "Index", "Schedules")</li>
                    <li>@Html.ActionLink("Subcontractors", "Index", "Account", new { type = "subcontractor" }, null)</li>
                }
                else if (((Person)Session["user"]).PersonType.type == "subcontractor")
                {
                    <link type="text/css" href="~/Content/Subcontractor-SideBar.css" rel="stylesheet">
                    <li>@Html.ActionLink("Certificates", "Index", "Certificates")</li>
                    <li>@Html.ActionLink("Contracts - IMG LN93", "Index", "Login")</li>
                    <li>@Html.ActionLink("Licenses", "Index", "Licenses")</li>
                    <li>@Html.ActionLink("Timestamps - LN95", "Index", "Login")</li>
                    <li>@Html.ActionLink("Schedules", "Index", "Schedules")</li>

                }
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
            <!-- Page Content -->
        <!-- Navbar -->
        <nav class="navbar navbar-static-top" role="navigation">
            <ul class="nav navbar-nav">
                <li class="sidebar-brand">
                    <!-- Toggle Button - needs burger icon -->
                    <a href="#menu-toggle" class="sr-only-focusable" id="menu-toggle">
                    <i class="fa fa-align-justify"></i></a>
                </li>
                <!-- Application Name -->
                <li>@Html.ActionLink("QCsolver's OnSite", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })</li>
                <li><input type="text" name="searchBar" class="form-control" placeholder="Search..." /></li>
                <li><button type='submit' name='search' id='search-btn' class="btn btn-flat">
                    <i class="fa fa-search"></i></button></li>

                <!-- In case we get to do chat-->


                @*<li class="dropdown messages-menu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-envelope-o"></i>
                    <span class="label label-success">4</span>
                </a>
            </li>*@
                @if (Session["user"] == null)
                {
                    <li class="button" style="float:right">
                        <a href="../Account/Login"><i class=" fa fa-sign-in"></i></a>
                    </li>
                }
                else
                {
                    <li class="button" style="float:right">
                        <a href="../Account/Logoff"><i class=" fa fa-sign-out"></i></a>
                    </li>
                }
                <!-- Left Icon for Push Notifications-->


                @*<li class="dropdown notifications-menu" style="float:right">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <i class="fa fa-bell-o"></i>
                        <span class="label label-danger">3</span>
                    </a>
                </li>*@
            </ul>
        </nav>
            <div id="page-content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            @RenderBody()
                            <footer class="customFooter">
                                <strong>Copyright &copy; 2016 <a href="http://http://qcsolver.com/">QCsolver</a>.</strong><italic> All rights reserved.</italic>
                            </footer>
                        </div>
                    </div>
                </div>
            </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
</body>
</html>
    <!-- Menu Toggle Script -->
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
@Scripts.Render("~/bundles/bootstrap.min")
@RenderSection("scripts", required: false)

@if (Session["user"] == null)
            {
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    }).click();
</script>
    <script>document.getElementsByClassName('menu-toggle')[0].style.visibility = 'hidden';</script>
    <script>document.getElementsByClassName('sr-only-focusable')[0].style.visibility = 'hidden';</script>
            }
else
{
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>
}

